#include<bits/stdc++.h>
using namespace std;

vector<int>ke[1005]; int dinh, v;//v: la noi bat dau tim chu trinh
int visited[1005];
int a[1005][1005];
int x[1005];

void Hal(int k){ //Xay dung chu trinh Hamilton tu dinh thu k
	for(int i: ke[x[k-1]]){
		if(k==dinh+1&&i==x[1]){
			for(int j=1;j<=dinh;j++) cout<<x[j]<<" ";
			cout<<v<<endl;
		} else if (visited[i]==0){
			x[k] = i;
			visited[i] = 1;
			Hal(k+1);
			visited[i] = 0;
		}
	}
}

int main(){
	cin>>dinh>>v;
	for(int i=1;i<=dinh;i++){
		for(int j=1;j<=dinh;j++){
			cin>>a[i][j];
			if(a[i][j]) ke[i].push_back(j);
		}
	}
	//Khoi tao diem bat dau
	x[1] = v;
	visited[v]=1;
	Hal(2); //Xay dung cau hinh tu dinh thu 2
}
/*
Case 1:
5 1
0  1  0  1  0  
1  0  1  0  1  
0  1  0  1  1  
1  0  1  0  1  
0  1  1  1  0  
Case 2:
20 1
0  1  0  0  1  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  
1  0  1  0  0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  0  
0  1  0  1  0  0  0  0  0  1  0  0  0  0  0  0  0  0  0  0  
0  0  1  0  1  0  0  0  0  0  0  1  0  0  0  0  0  0  0  0  
1  0  0  1  0  0  0  0  0  0  0  0  0  1  0  0  0  0  0  0  
1  0  0  0  0  0  1  0  0  0  0  0  0  0  1  0  0  0  0  0  
0  0  0  0  0  1  0  1  0  0  0  0  0  0  0  0  1  0  0  0  
0  1  0  0  0  0  1  0  1  0  0  0  0  0  0  0  0  0  0  0  
0  0  0  0  0  0  0  1  0  1  0  0  0  0  0  0  0  1  0  0  
0  0  1  0  0  0  0  0  1  0  1  0  0  0  0  0  0  0  0  0  
0  0  0  0  0  0  0  0  0  1  0  1  0  0  0  0  0  0  1  0  
0  0  0  1  0  0  0  0  0  0  1  0  1  0  0  0  0  0  0  0  
0  0  0  0  0  0  0  0  0  0  0  1  0  1  0  0  0  0  0  1  
0  0  0  0  1  0  0  0  0  0  0  0  1  0  1  0  0  0  0  0  
0  0  0  0  0  1  0  0  0  0  0  0  0  1  0  1  0  0  0  0  
0  0  0  0  0  0  0  0  0  0  0  0  0  0  1  0  1  0  0  1  
0  0  0  0  0  0  1  0  0  0  0  0  0  0  0  1  0  1  0  0  
0  0  0  0  0  0  0  0  1  0  0  0  0  0  0  0  1  0  1  0  
0  0  0  0  0  0  0  0  0  0  1  0  0  0  0  0  0  1  0  1  
0  0  0  0  0  0  0  0  0  0  0  0  1  0  0  1  0  0  1  0  
*/

/* OUTPUT 1:
1 2 3 5 4 1
1 2 5 3 4 1
1 4 3 5 2 1
1 4 5 3 2 1
OUTPUT2:
1 2 3 4 5 14 13 12 11 10 9 8 7 17 18 19 20 16 15 6 1
1 2 3 4 5 14 15 16 17 18 19 20 13 12 11 10 9 8 7 6 1
1 2 3 4 12 11 10 9 8 7 6 15 16 17 18 19 20 13 14 5 1
1 2 3 4 12 13 20 16 17 18 19 11 10 9 8 7 6 15 14 5 1
1 2 3 10 9 8 7 6 15 14 13 20 16 17 18 19 11 12 4 5 1
1 2 3 10 9 8 7 17 18 19 11 12 4 5 14 13 20 16 15 6 1
1 2 3 10 11 12 4 5 14 13 20 19 18 9 8 7 17 16 15 6 1
1 2 3 10 11 19 18 9 8 7 17 16 20 13 12 4 5 14 15 6 1
1 2 3 10 11 19 20 13 12 4 5 14 15 16 17 18 9 8 7 6 1
1 2 3 10 11 19 20 16 17 18 9 8 7 6 15 14 13 12 4 5 1
1 2 8 7 6 15 14 13 12 11 19 20 16 17 18 9 10 3 4 5 1
1 2 8 7 6 15 16 17 18 9 10 3 4 12 11 19 20 13 14 5 1
1 2 8 7 17 16 20 13 12 11 19 18 9 10 3 4 5 14 15 6 1
1 2 8 7 17 18 9 10 3 4 5 14 13 12 11 19 20 16 15 6 1
1 2 8 9 10 3 4 5 14 15 16 20 13 12 11 19 18 17 7 6 1
1 2 8 9 10 3 4 12 11 19 18 17 7 6 15 16 20 13 14 5 1
1 2 8 9 18 17 7 6 15 16 20 19 11 10 3 4 12 13 14 5 1
1 2 8 9 18 19 11 10 3 4 12 13 20 16 17 7 6 15 14 5 1
1 2 8 9 18 19 20 13 12 11 10 3 4 5 14 15 16 17 7 6 1
1 2 8 9 18 19 20 16 17 7 6 15 14 13 12 11 10 3 4 5 1
1 5 4 3 2 8 7 17 16 20 19 18 9 10 11 12 13 14 15 6 1
1 5 4 3 2 8 9 10 11 12 13 14 15 16 20 19 18 17 7 6 1
1 5 4 3 10 9 18 17 16 20 19 11 12 13 14 15 6 7 8 2 1
1 5 4 3 10 11 12 13 14 15 6 7 17 16 20 19 18 9 8 2 1
1 5 4 12 11 10 3 2 8 9 18 19 20 13 14 15 16 17 7 6 1
1 5 4 12 11 19 18 9 10 3 2 8 7 17 16 20 13 14 15 6 1
1 5 4 12 11 19 18 17 16 20 13 14 15 6 7 8 9 10 3 2 1
1 5 4 12 11 19 20 13 14 15 16 17 18 9 10 3 2 8 7 6 1
1 5 4 12 13 14 15 6 7 8 9 18 17 16 20 19 11 10 3 2 1
1 5 4 12 13 14 15 16 20 19 11 10 3 2 8 9 18 17 7 6 1
1 5 14 13 12 4 3 2 8 7 17 18 9 10 11 19 20 16 15 6 1
1 5 14 13 12 4 3 10 11 19 20 16 15 6 7 17 18 9 8 2 1
1 5 14 13 20 16 15 6 7 17 18 19 11 12 4 3 10 9 8 2 1
1 5 14 13 20 19 11 12 4 3 10 9 18 17 16 15 6 7 8 2 1
1 5 14 13 20 19 18 9 10 11 12 4 3 2 8 7 17 16 15 6 1
1 5 14 13 20 19 18 17 16 15 6 7 8 9 10 11 12 4 3 2 1
1 5 14 15 6 7 8 9 10 11 19 18 17 16 20 13 12 4 3 2 1
1 5 14 15 6 7 17 16 20 13 12 4 3 10 11 19 18 9 8 2 1
1 5 14 15 16 17 18 9 10 11 19 20 13 12 4 3 2 8 7 6 1
1 5 14 15 16 20 13 12 4 3 2 8 9 10 11 19 18 17 7 6 1
1 6 7 8 2 3 4 12 13 20 19 11 10 9 18 17 16 15 14 5 1
1 6 7 8 2 3 10 9 18 17 16 15 14 13 20 19 11 12 4 5 1
1 6 7 8 9 10 11 12 13 20 19 18 17 16 15 14 5 4 3 2 1
1 6 7 8 9 18 17 16 15 14 5 4 12 13 20 19 11 10 3 2 1
1 6 7 17 16 15 14 5 4 3 10 11 12 13 20 19 18 9 8 2 1
1 6 7 17 16 15 14 13 20 19 18 9 8 2 3 10 11 12 4 5 1
1 6 7 17 18 9 8 2 3 10 11 19 20 16 15 14 13 12 4 5 
1 6 7 17 18 19 11 10 9 8 2 3 4 12 13 20 16 15 14 5 1
1 6 7 17 18 19 11 12 13 20 16 15 14 5 4 3 10 9 8 2 1
1 6 7 17 18 19 20 16 15 14 13 12 11 10 9 8 2 3 4 5 1
1 6 15 14 5 4 3 10 9 18 19 11 12 13 20 16 17 7 8 2 1
1 6 15 14 5 4 12 13 20 16 17 7 8 9 18 19 11 10 3 2 1
1 6 15 14 13 12 11 10 9 18 19 20 16 17 7 8 2 3 4 5 1
1 6 15 14 13 20 16 17 7 8 2 3 10 9 18 19 11 12 4 5 1
1 6 15 16 17 7 8 2 3 4 12 11 10 9 18 19 20 13 14 5 1
1 6 15 16 17 7 8 9 18 19 20 13 14 5 4 12 11 10 3 2 1
1 6 15 16 20 13 14 5 4 12 11 19 18 17 7 8 9 10 3 2 1
1 6 15 16 20 19 11 10 9 18 17 7 8 2 3 4 12 13 14 5 1
1 6 15 16 20 19 11 12 13 14 5 4 3 10 9 18 17 7 8 2 1
1 6 15 16 20 19 18 17 7 8 9 10 11 12 13 14 5 4 3 2 1 */